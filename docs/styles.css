/* ARQUIVO 2 de 7: styles.css (Versão 4.0 - Nébula) */
/* Responsável por toda a apresentação visual, theming e responsividade. */

/* -------------------------------------------------------------------------- */
/* 1. ARQUITETURA DE VARIÁVEIS (A Base Matemática e Temática)                 */
/* -------------------------------------------------------------------------- */
:root {
  /* Paleta de Cores (Tema Escuro por Padrão) */
  --color-background: #0d1117;
  --color-surface: #161b22;
  --color-border: #30363d;
  --color-text-primary: #c9d1d9;
  --color-text-secondary: #8b949e;
  --color-primary: #58a6ff;
  --color-primary-hover: #79c0ff;
  --color-highlight: #1f6feb;

  /* NOVIDADE v4.0: Cores para componentes de conteúdo */
  --color-code-bg: #22272e;
  --color-note-bg: rgba(56, 139, 253, 0.1);
  --color-note-border: #388bfd;
  --color-warning-bg: rgba(248, 181, 99, 0.1);
  --color-warning-border: #f8b563;

  /* NOVIDADE v4.0: Variáveis do Tema Claro */
  --light-background: #ffffff;
  --light-surface: #f6f8fa;
  --light-border: #d0d7de;
  --light-text-primary: #1f2328;
  --light-text-secondary: #57606a;
  --light-code-bg: #f0f2f5;
  --light-note-bg: #ddf4ff;
  --light-note-border: #58a6ff;
  --light-warning-bg: #fff8c5;
  --light-warning-border: #d4a72c;
  
  /* Tipografia */
  --font-family-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
  --font-family-mono: "SF Mono", "Consolas", "Liberation Mono", Menlo, monospace;
  
  /* ... (demais variáveis permanecem as mesmas) ... */
  --font-size-base: 16px;
  --font-size-sm: 0.875rem;
  --font-size-md: 1rem;
  --font-size-lg: 1.25rem;
  --font-size-xl: 1.5rem;
  --font-size-xxl: 2rem;
  --line-height-base: 1.6;
  --line-height-heading: 1.2;
  --space-unit: 1rem;
  --space-xs: calc(var(--space-unit) * 0.25);
  --space-s: calc(var(--space-unit) * 0.5);
  --space-m: var(--space-unit);
  --space-l: calc(var(--space-unit) * 1.5);
  --space-xl: calc(var(--space-unit) * 2);
  --space-xxl: calc(var(--space-unit) * 3);
  --header-height: 60px;
  --sidebar-width: 260px;
  --toc-width: 240px;
  --border-radius: 6px;
}

/* Regra que ativa as variáveis do tema claro */
html.theme-light {
  --color-background: var(--light-background);
  --color-surface: var(--light-surface);
  --color-border: var(--light-border);
  --color-text-primary: var(--light-text-primary);
  --color-text-secondary: var(--light-text-secondary);
  --color-primary: #0969da;
  --color-primary-hover: #0c84fa;
  --color-code-bg: var(--light-code-bg);
  --color-note-bg: var(--light-note-bg);
  --color-note-border: var(--light-note-border);
  --color-warning-bg: var(--light-warning-bg);
  --color-warning-border: var(--light-warning-border);
}

/* -------------------------------------------------------------------------- */
/* 2. RESET BÁSICO E ESTILOS GLOBAIS                                          */
/* -------------------------------------------------------------------------- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: var(--font-size-base); scroll-behavior: smooth; }

body {
  background-color: var(--color-background);
  color: var(--color-text-primary);
  font-family: var(--font-family-sans);
  line-height: var(--line-height-base);
  /* NOVIDADE v4.0: Transição suave para a troca de tema */
  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
}

/* ... (demais estilos globais inalterados) ... */
a { color: var(--color-primary); text-decoration: none; transition: color 0.2s ease; }
a:hover { color: var(--color-primary-hover); text-decoration: underline; }
:focus-visible { outline: 2px solid var(--color-primary); outline-offset: 2px; }
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border-width: 0; }
.skip-link { position: absolute; top: -100px; left: var(--space-m); background-color: var(--color-highlight); color: white; padding: var(--space-s) var(--space-m); z-index: 1000; transition: top 0.3s ease; }
.skip-link:focus { top: var(--space-m); }

/* -------------------------------------------------------------------------- */
/* 3. LAYOUT PRINCIPAL (Inalterado)                                           */
/* -------------------------------------------------------------------------- */
.main-container { display: grid; grid-template-columns: 1fr; padding-top: var(--header-height); }
@media (min-width: 768px) { .main-container { grid-template-columns: var(--sidebar-width) 1fr; } }
@media (min-width: 1024px) { .main-container { grid-template-columns: var(--sidebar-width) 1fr var(--toc-width); } }

/* -------------------------------------------------------------------------- */
/* 4. COMPONENTES                                                             */
/* -------------------------------------------------------------------------- */

/* ----- Cabeçalho (site-header) (Pequenos ajustes) ----- */
.site-header { position: fixed; top: 0; left: 0; width: 100%; height: var(--header-height); background-color: var(--color-surface); border-bottom: 1px solid var(--color-border); z-index: 100; }
.header-container { display: flex; align-items: center; justify-content: space-between; gap: var(--space-m); padding: 0 var(--space-m); height: 100%; max-width: 1440px; margin: 0 auto; }
.logo { display: flex; align-items: center; gap: var(--space-s); color: var(--color-text-primary); font-weight: 600; flex-shrink: 0; }
.logo svg { color: var(--color-primary); }
.header-actions { display: flex; align-items: center; gap: var(--space-s); flex-grow: 1; justify-content: flex-end; }
.search-bar { width: 100%; max-width: 300px; }
.search-bar input { background-color: var(--color-background); border: 1px solid var(--color-border); border-radius: var(--border-radius); color: var(--color-text-primary); padding: var(--space-s); width: 100%; }
.theme-toggle { /* ... (estilos inalterados) ... */ }
.mobile-nav-toggle { background: none; border: none; color: var(--color-text-primary); cursor: pointer; padding: var(--space-s); }
.mobile-nav-toggle svg, .theme-toggle svg { width: 16px; height: 16px; }

/* ----- Navegação Principal (site-nav) ----- */
/* NOVIDADE v4.0: Estilos para <details> e <summary> */
.site-nav { /* ... (estilos de posicionamento inalterados) ... */ }
.nav-list { list-style: none; }
.nav-category:not(:first-child) { margin-top: var(--space-l); }
.nav-category-title { font-size: var(--font-size-sm); font-weight: 600; color: var(--color-text-secondary); text-transform: uppercase; margin-bottom: var(--space-m); }
.nav-link { display: block; padding: var(--space-s) 0; color: var(--color-text-secondary); }
.nav-link.active { color: var(--color-primary); font-weight: 600; }
details { padding-left: var(--space-s); }
details ul { padding-left: var(--space-m); }
summary { cursor: pointer; position: relative; padding: var(--space-s) 0; color: var(--color-text-secondary); list-style: none; /* Remove marcador padrão */ }
summary::before { /* Marcador customizado (chevron) */
  content: '›';
  position: absolute;
  left: -12px;
  font-size: 1.2em;
  transition: transform 0.2s ease;
}
details[open] > summary::before {
  transform: rotate(90deg);
}

/* ----- Conteúdo Principal (main-content) ----- */
.main-content { padding: var(--space-xl); }
.main-content article { max-width: 800px; margin: 0 auto; }
.page-header .breadcrumb { font-size: var(--font-size-sm); color: var(--color-text-secondary); margin-bottom: var(--space-s); }
.main-content h1, .main-content h2, .main-content h4 { line-height: var(--line-height-heading); }
.main-content h4 { font-size: 1.1em; margin-top: var(--space-l); margin-bottom: var(--space-s); }

/* NOVIDADE v4.0: Componente Callout */
.callout {
  margin: var(--space-xl) 0;
  padding: var(--space-m) var(--space-l);
  border-left: 4px solid;
  border-radius: var(--border-radius);
}
.callout p:last-child { margin-bottom: 0; }
.callout.note {
  background-color: var(--color-note-bg);
  border-color: var(--color-note-border);
}
.callout.warning {
  background-color: var(--color-warning-bg);
  border-color: var(--color-warning-border);
}

/* NOVIDADE v4.0: Componente Bloco de Código */
pre {
  background-color: var(--color-code-bg);
  padding: var(--space-m);
  border-radius: var(--border-radius);
  overflow-x: auto;
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  margin: var(--space-l) 0;
}
code {
  font-family: var(--font-family-mono);
}
p > code { /* Código inline */
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  padding: 2px 4px;
  border-radius: 4px;
  font-size: 0.9em;
}

/* NOVIDADE v4.0: Componente Tabela */
table {
  width: 100%;
  border-collapse: collapse;
  margin: var(--space-xl) 0;
  font-size: var(--font-size-sm);
}
th, td {
  padding: var(--space-s) var(--space-m);
  border: 1px solid var(--color-border);
  text-align: left;
}
thead {
  background-color: var(--color-surface);
  font-weight: 600;
}
tbody tr:nth-child(odd) {
  background-color: var(--color-surface);
}


/* ----- Busca e Destaque ----- */
mark { background-color: var(--color-primary); color: var(--color-background); padding: 2px 4px; border-radius: var(--border-radius); }
.no-results-message { text-align: center; padding: var(--space-xxl); font-size: var(--font-size-lg); color: var(--color-text-secondary); }
.section-hidden { display: none; }

/* ... (demais estilos para .page-toc, .site-footer, etc. permanecem os mesmos) ... */
.page-toc { display: none; }
@media (min-width: 1024px) { .page-toc { display: block; position: sticky; top: var(--header-height); height: calc(100vh - var(--header-height)); overflow-y: auto; padding: var(--space-l); font-size: var(--font-size-sm); } }
.page-toc h3 { font-weight: 600; color: var(--color-text-secondary); margin-bottom: var(--space-m); }
.page-toc ul { list-style: none; }
.page-toc li a { display: block; padding: var(--space-xs) 0; color: var(--color-text-secondary); border-left: 2px solid transparent; padding-left: var(--space-m); }
.page-toc li a:hover { color: var(--color-text-primary); text-decoration: none; }
.page-toc li a.active { color: var(--color-primary); border-left-color: var(--color-primary); font-weight: 600; }
.site-footer { text-align: center; padding: var(--space-xl); margin-top: var(--space-xxl); border-top: 1px solid var(--color-border); font-size: var(--font-size-sm); color: var(--color-text-secondary); }
